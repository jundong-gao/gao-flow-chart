var GaoFlowChart=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function e(e){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?t(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,d=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==e);s=!0);}catch(t){d=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var r={props:{item:Object},computed:{flowItemStyle:function(){var t,e,n=this.item,i="url(".concat(null==n||null===(t=n.item_info)||void 0===t?void 0:t.icon,")");"switch"==n.item_info.type&&(n.item_info.switch_status&&(i="url(".concat(null==n||null===(e=n.item_info)||void 0===e?void 0:e.active_icon,")")));return{backgroundImage:i}}}};function a(t,e,n,i,o,r,a,l,s,d){"boolean"!=typeof a&&(s=l,l=a,a=!1);const c="function"==typeof n?n.options:n;let u;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),i&&(c._scopeId=i),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,s(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):e&&(u=a?function(t){e.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,l(t))}),u)if(c.functional){const t=c.render;c.render=function(e,n){return u.call(n),t(e,n)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,u):[u]}return n}const l="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function s(t){return(t,e)=>function(t,e){const n=l?e.media||"default":t,i=c[n]||(c[n]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),void 0===d&&(d=document.head||document.getElementsByTagName("head")[0]),d.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(n),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const t=i.ids.size-1,e=document.createTextNode(n),o=i.element.childNodes;o[t]&&i.element.removeChild(o[t]),o.length?i.element.insertBefore(e,o[t]):i.element.appendChild(e)}}}(t,e)}let d;const c={};var u=a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gao-flow-chart",attrs:{id:t.id}},[n("div",{staticClass:"flow-build",style:t.detailStyle,attrs:{id:"flow-build"}},t._l(t.options.nodes,(function(t){return n("FlowItem",{key:t.id,staticClass:"flow-build-item",style:t.style,attrs:{item:t,id:t.id}})})),1)])},staticRenderFns:[]},(function(t){t&&(t("data-v-e50551f8_0",{source:"",map:void 0,media:void 0}),t("data-v-e50551f8_1",{source:".gao-flow-chart[data-v-e50551f8]{width:100%;height:100%}.flow-build[data-v-e50551f8]{position:relative;width:100%;height:100%}.flow-build-item[data-v-e50551f8]{position:absolute;width:100px;height:100px}",map:void 0,media:void 0}))}),{name:"GaoFlowChart",components:{FlowItem:a({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flow-item",style:t.flowItemStyle},[t.item.item_info&&"text"==t.item.item_info.type?n("div",{staticClass:"text-content flex-jac"},[n("div",{staticClass:"text-content-text"},[t._v(t._s(t.item.item_info&&t.item.item_info.content))])]):t._e()])},staticRenderFns:[]},(function(t){t&&t("data-v-5906232a_0",{source:".flow-item[data-v-5906232a]{position:absolute;width:100px;height:100px;user-select:none;background-size:100% 100%;background-repeat:no-repeat}.flow-item-icon[data-v-5906232a]{width:100%;height:100%;display:block;object-fit:contain}.flow-item .text-content[data-v-5906232a]{width:100%;height:100%;padding:20px;box-sizing:border-box}.flow-item .text-content-input[data-v-5906232a]{background-color:#fff;z-index:9999999;text-align:center}.flow-item .text-content-text[data-v-5906232a]{font-size:14px;color:#333;text-align:center}",map:void 0,media:void 0})}),r,"data-v-5906232a",false,undefined,!1,s,void 0,void 0)},props:{options:{type:Object,default:function(){return{nodes:[],lines:[],detail:{}}}}},data:function(){return{djinstance:null,id:"gao-flow-chart-".concat(parseInt(100*Math.random()/4*1e3*Math.random())),zoom:1}},computed:{detailStyle:function(){var t,n,i;return e(e({},null===(t=this.options)||void 0===t?void 0:t.detail),{},{width:"".concat(null===(n=this.options.detail)||void 0===n?void 0:n.width,"px"),height:"".concat(null===(i=this.options.detail)||void 0===i?void 0:i.height,"px"),zoom:this.zoom})}},mounted:function(){var t=this;this.$nextTick((function(){var e,n=document.getElementById(t.id);t.zoom=n.parentNode.clientWidth/((null===(e=t.options)||void 0===e||null===(e=e.detail)||void 0===e?void 0:e.width)||n.parentNode.clientWidth),t.init()}))},methods:{init:function(){var t=this;jsPlumb.ready((function(){t.djinstance=jsPlumb.getInstance({Container:"flow-build",DragOptions:{cursor:"pointer",zIndex:26},ConnectionsDetachable:!1,Connector:"Straight",PaintStyle:{strokeWidth:1,stroke:"#333",outlineStroke:"none",outlineWidth:50}}),t.setNode()}))},addEndpoints:function(t,e,n){var i={paintStyle:{fill:"",stroke:"",strokeWidth:.5,radius:0}};if(e.length)for(var o=0;o<e.length;o++){var r=t+e[o];this.djinstance.addEndpoint(t,i,{anchor:e[o],uuid:r})}if(n.length)for(var a=0;a<n.length;a++){var l=t+n[a];this.djinstance.addEndpoint(t,i,{anchor:n[a],uuid:l})}},setNode:function(){var t=this;this.options.nodes.forEach((function(e){t.addEndpoints(e.id,["RightMiddle","BottomCenter"],["LeftMiddle","TopCenter"])})),this.options.lines.forEach((function(n){var i=t.djinstance.connect(e({},n));if(!i)return console.warn("连线失败",i);n.id=i.id}))}}},"data-v-e50551f8",false,undefined,!1,s,void 0,void 0),f=function(){var t=u;return t.install=function(e){e.component("GaoFlowChart",t)},t}(),p=Object.freeze({__proto__:null,default:f});return Object.entries(p).forEach((function(t){var e=i(t,2),n=e[0],o=e[1];"default"!==n&&(f[n]=o)})),f}();